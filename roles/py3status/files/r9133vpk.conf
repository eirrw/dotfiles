# i3status configuration file.
# see "man i3status" for documentation.

# It is important that this file is edited as UTF-8.
# The following line should contain a sharp s:
# ß
# If the above line is not correctly displayed, fix your editor first!

general {
    colors = true
    interval = 5
}

py3status {
    on_error = "hide"
}

order += "spotify"
order += "nvidia_smi"
order += "sysdata cpu"
order += "sysdata mem"
order += "wifi"
order += "battery_level"
order += "volume_status master"
order += "backlight"
order += "keyboard_layout"
order += "keyboard_locks"
order += "uname"
order += "clock"

clock {
    format_time = "%Y-%m-%d [\?color=lightgreen&show %H:%M]"
}

uname {
    format = "{release}"
}

keyboard_locks {
    format = "[\?if=num_lock |\?color=bad NUM][\?soft  ]"
    format += "[\?if=caps_lock&color=good CAPS][\?soft  ]"
    format += "[\?if=scroll_lock&color=good SCR]"
}

keyboard_layout {
    color_us_workman = '#FCE94F'
    layouts = ["us", "us workman"]
    format = "\?if=layout=us us|wk"
    button_next = 1
    button_prev = 2
}

backlight {
    brightness_delta = 5
}

volume_status master {
    command = "pactl"
}

battery_level {
    format = "{icon} {percent}%"
}

wifi {
    format = "[W: {ssid}]"
}

sysdata mem {
    format = "MEM "
    format += "[\?color=mem_used_percent {mem_used_percent}%] "
    format += "[\?color=mem_used_percent {mem_used}{mem_used_unit}]"
    thresholds = {
        "mem_used_percent": [(0, 'good'),(80, 'degraded'),(95, 'bad')],
    }
}

sysdata cpu {
    format = "CPU "
    format += "[\?color=cpu_used_percent {cpu_used_percent:02.2f}%] "
    format += "[\?color=cpu_temp {cpu_temp:02.2f}°{cpu_temp_unit}]"
    thresholds = {
        "cpu_temp": [(0, 'good'),(67, 'degraded'),(82, 'bad')],
        "cpu_used_percent": [(0, 'good'),(40, 'degraded'),(80, 'bad')],
    }
}

nvidia_smi {
    format = "GPU {format_gpu}"
    format_gpu = '[\?color=memory.used_percent {memory.used_percent:.1f}%] '
    format_gpu += '[\?color=memory.used_percent {memory.used}{memory.used_unit}] '
    format_gpu += '[\?color=temperature.gpu {temperature.gpu}°C]'
}

spotify {
    dbus_client = 'org.mpris.MediaPlayer2.spotifyd'
    button_play_pause = 1
    format_down = ''
}
